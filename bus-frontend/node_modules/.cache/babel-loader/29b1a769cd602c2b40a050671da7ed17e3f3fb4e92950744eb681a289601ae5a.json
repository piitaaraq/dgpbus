{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: \"RegisterUser\",\n  data() {\n    return {\n      email: '',\n      password: '',\n      confirmPassword: '',\n      role: 'staff',\n      // Default role\n      errorMessage: '',\n      successMessage: ''\n    };\n  },\n  methods: {\n    async registerUser() {\n      if (this.password !== this.confirmPassword) {\n        this.errorMessage = 'Passwords du har indtastet matcher ikke.';\n        return;\n      }\n      try {\n        await axios.post('http://localhost:8000/api/register/', {\n          email: this.email,\n          password: this.password,\n          role: this.role\n        });\n        this.successMessage = 'Brugeren er oprettet. Vent på godkendelse fra administrator.';\n        this.errorMessage = ''; // Clear error message\n      } catch (error) {\n        this.errorMessage = 'Der var en fejl ved brugeroprettelse. Prøv venligst igen.';\n        this.successMessage = ''; // Clear success message\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","email","password","confirmPassword","role","errorMessage","successMessage","methods","registerUser","post","error"],"sources":["/home/peter/projects/dgpbus/bus-frontend/src/views/Register.vue"],"sourcesContent":["<template>\n    <div class=\"create-user-container\">\n        <h1 class=\"title\">Registrer ny bruger</h1>\n        <form @submit.prevent=\"registerUser\">\n            <div class=\"field\">\n                <label class=\"label\">Email</label>\n                <div class=\"control\">\n                    <input type=\"email\" v-model=\"email\" class=\"input\" required />\n                </div>\n            </div>\n            <div class=\"field\">\n                <label class=\"label\">Password</label>\n                <div class=\"control\">\n                    <input type=\"password\" v-model=\"password\" class=\"input\" required />\n                </div>\n            </div>\n            <div class=\"field\">\n                <label class=\"label\">Bekræft Password</label>\n                <div class=\"control\">\n                    <input type=\"password\" v-model=\"confirmPassword\" class=\"input\" required />\n                </div>\n            </div>\n            <div class=\"field\">\n                <label class=\"label\">Rolle</label>\n                <div class=\"control\">\n                    <div class=\"select\">\n                        <select v-model=\"role\" required>\n                            <option value=\"staff\">Staff</option>\n                            <option value=\"admin\">Admin</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\">\n                <div class=\"control\">\n                    <button class=\"button is-primary\" type=\"submit\">Registrer</button>\n                </div>\n            </div>\n            <p v-if=\"errorMessage\" class=\"has-text-danger\">{{ errorMessage }}</p>\n            <p v-if=\"successMessage\" class=\"has-text-success\">{{ successMessage }}</p>\n        </form>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: \"RegisterUser\",\n    data() {\n        return {\n            email: '',\n            password: '',\n            confirmPassword: '',\n            role: 'staff',  // Default role\n            errorMessage: '',\n            successMessage: '',\n        };\n    },\n    methods: {\n        async registerUser() {\n            if (this.password !== this.confirmPassword) {\n                this.errorMessage = 'Passwords du har indtastet matcher ikke.';\n                return;\n            }\n\n            try {\n                await axios.post('http://localhost:8000/api/register/', {\n                    email: this.email,\n                    password: this.password,\n                    role: this.role,\n                });\n\n                this.successMessage = 'Brugeren er oprettet. Vent på godkendelse fra administrator.';\n                this.errorMessage = ''; // Clear error message\n            } catch (error) {\n                this.errorMessage = 'Der var en fejl ved brugeroprettelse. Prøv venligst igen.';\n                this.successMessage = ''; // Clear success message\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.create-user-container {\n    max-width: 400px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\n.title {\n    text-align: center;\n}\n\n.has-text-danger {\n    color: #ff3860;\n}\n\n.has-text-success {\n    color: #23d160;\n}\n</style>\n"],"mappings":"AA6CA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,IAAI,EAAE,cAAc;EACpBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,eAAe,EAAE,EAAE;MACnBC,IAAI,EAAE,OAAO;MAAG;MAChBC,YAAY,EAAE,EAAE;MAChBC,cAAc,EAAE;IACpB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,YAAYA,CAAA,EAAG;MACjB,IAAI,IAAI,CAACN,QAAO,KAAM,IAAI,CAACC,eAAe,EAAE;QACxC,IAAI,CAACE,YAAW,GAAI,0CAA0C;QAC9D;MACJ;MAEA,IAAI;QACA,MAAMP,KAAK,CAACW,IAAI,CAAC,qCAAqC,EAAE;UACpDR,KAAK,EAAE,IAAI,CAACA,KAAK;UACjBC,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBE,IAAI,EAAE,IAAI,CAACA;QACf,CAAC,CAAC;QAEF,IAAI,CAACE,cAAa,GAAI,8DAA8D;QACpF,IAAI,CAACD,YAAW,GAAI,EAAE,EAAE;MAC5B,EAAE,OAAOK,KAAK,EAAE;QACZ,IAAI,CAACL,YAAW,GAAI,2DAA2D;QAC/E,IAAI,CAACC,cAAa,GAAI,EAAE,EAAE;MAC9B;IACJ;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  props: ['userId'],\n  // Accept the userId as a prop\n  data() {\n    return {\n      form: {\n        name: '',\n        room: '',\n        appointment_date: '',\n        appointment_time: '',\n        department: '',\n        needs_translator: false\n      }\n    };\n  },\n  mounted() {\n    this.fetchUserData(); // Fetch the existing user data when the component is mounted\n  },\n  methods: {\n    async fetchUserData() {\n      try {\n        const response = await axios.get(`http://localhost:8000/api/users/${this.userId}/`);\n        this.form = response.data; // Populate the form with the existing user data\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    },\n    async submitEditForm() {\n      try {\n        // Send the edited data to the backend\n        const response = await axios.put(`http://localhost:8000/api/users/${this.userId}/`, this.form);\n        if (response.status === 200) {\n          this.$router.push({\n            name: 'ConfirmForm',\n            params: {\n              userId: this.userId\n            }\n          });\n        }\n      } catch (error) {\n        console.error('Error submitting edit form:', error);\n      }\n    },\n    goBack() {\n      this.$router.push({\n        name: 'ConfirmForm',\n        params: {\n          userId: this.userId\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","props","data","form","name","room","appointment_date","appointment_time","department","needs_translator","mounted","fetchUserData","methods","response","get","userId","error","console","submitEditForm","put","status","$router","push","params","goBack"],"sources":["/home/peter/projects/dgpbus/bus-frontend/src/views/EditForm.vue"],"sourcesContent":["<template>\n  <div class=\"edit-form-container container\">\n    <h2 class=\"title is-4\">Immersukkatit iluarsikkit</h2>\n    <form @submit.prevent=\"submitEditForm\">\n      <div class=\"field\">\n        <label class=\"label\">Atit</label>\n        <div class=\"control\">\n          <input class=\"input\" type=\"text\" v-model=\"form.name\" required />\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <label class=\"label\">Inivit normua</label>\n        <div class=\"control\">\n          <input class=\"input\" type=\"text\" v-model=\"form.room\" required />\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <label class=\"label\">Nakorsiarfissavit ullua</label>\n        <div class=\"control\">\n          <input class=\"input\" type=\"date\" v-model=\"form.appointment_date\" required />\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <label class=\"label\">Piffissaq</label>\n        <div class=\"control\">\n          <input class=\"input\" type=\"time\" v-model=\"form.appointment_time\" required />\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <label class=\"label\">Napparsimmavimmi immikkoortoq</label>\n        <div class=\"control\">\n          <input class=\"input\" type=\"text\" v-model=\"form.department\" required />\n        </div>\n      </div>\n\n      <div class=\"field\">\n        <label class=\"label\">Nutserisumik pisariaqartitsivit?</label>\n        <div class=\"control\">\n          <label class=\"radio\">\n            <input type=\"radio\" v-model=\"form.needs_translator\" :value=\"true\" /> Aap \n          </label>\n          <label class=\"radio\">\n            <input type=\"radio\" v-model=\"form.needs_translator\" :value=\"false\" /> Naamik\n          </label>\n        </div>\n      </div>\n\n      <div class=\"field is-grouped mt-4\">\n        <div class=\"control\">\n          <button class=\"button is-primary\" type=\"submit\">Allannguutit nassiutikkit</button>\n        </div>\n        <div class=\"control\">\n          <button class=\"button is-light\" type=\"button\" @click=\"goBack\">Allanngortinnagit</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  props: ['userId'],  // Accept the userId as a prop\n  data() {\n    return {\n      form: {\n        name: '',\n        room: '',\n        appointment_date: '',\n        appointment_time: '',\n        department: '',\n        needs_translator: false\n      }\n    };\n  },\n  mounted() {\n    this.fetchUserData();  // Fetch the existing user data when the component is mounted\n  },\n  methods: {\n    async fetchUserData() {\n      try {\n        const response = await axios.get(`http://localhost:8000/api/users/${this.userId}/`);\n        this.form = response.data;  // Populate the form with the existing user data\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    },\n    async submitEditForm() {\n      try {\n        // Send the edited data to the backend\n        const response = await axios.put(`http://localhost:8000/api/users/${this.userId}/`, this.form);\n\n        if (response.status === 200) {\n          this.$router.push({ name: 'ConfirmForm', params: { userId: this.userId } });\n        }\n      } catch (error) {\n        console.error('Error submitting edit form:', error);\n      }\n    },\n    goBack() {\n      this.$router.push({ name: 'ConfirmForm', params: { userId: this.userId } });\n    }\n  }\n};\n</script>\n\n<style scoped>\n/* Add your styles here */\n</style>\n"],"mappings":";AAgEA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,KAAK,EAAE,CAAC,QAAQ,CAAC;EAAG;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,IAAI,EAAE,EAAE;QACRC,IAAI,EAAE,EAAE;QACRC,gBAAgB,EAAE,EAAE;QACpBC,gBAAgB,EAAE,EAAE;QACpBC,UAAU,EAAE,EAAE;QACdC,gBAAgB,EAAE;MACpB;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,aAAa,CAAC,CAAC,EAAG;EACzB,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAME,QAAO,GAAI,MAAMb,KAAK,CAACc,GAAG,CAAC,mCAAmC,IAAI,CAACC,MAAM,GAAG,CAAC;QACnF,IAAI,CAACZ,IAAG,GAAIU,QAAQ,CAACX,IAAI,EAAG;MAC9B,EAAE,OAAOc,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF,CAAC;IACD,MAAME,cAAcA,CAAA,EAAG;MACrB,IAAI;QACF;QACA,MAAML,QAAO,GAAI,MAAMb,KAAK,CAACmB,GAAG,CAAC,mCAAmC,IAAI,CAACJ,MAAM,GAAG,EAAE,IAAI,CAACZ,IAAI,CAAC;QAE9F,IAAIU,QAAQ,CAACO,MAAK,KAAM,GAAG,EAAE;UAC3B,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;YAAElB,IAAI,EAAE,aAAa;YAAEmB,MAAM,EAAE;cAAER,MAAM,EAAE,IAAI,CAACA;YAAO;UAAE,CAAC,CAAC;QAC7E;MACF,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACrD;IACF,CAAC;IACDQ,MAAMA,CAAA,EAAG;MACP,IAAI,CAACH,OAAO,CAACC,IAAI,CAAC;QAAElB,IAAI,EAAE,aAAa;QAAEmB,MAAM,EAAE;UAAER,MAAM,EAAE,IAAI,CAACA;QAAO;MAAE,CAAC,CAAC;IAC7E;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
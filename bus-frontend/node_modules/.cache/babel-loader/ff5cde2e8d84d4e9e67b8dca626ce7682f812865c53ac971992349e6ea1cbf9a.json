{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-63ae9146\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"create-user-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"title\"\n}, \"Registrer ny bruger\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"field\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"label\"\n}, \"Email\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"control\"\n};\nconst _hoisted_6 = {\n  class: \"field\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"label\"\n}, \"Password\", -1 /* HOISTED */));\nconst _hoisted_8 = {\n  class: \"control\"\n};\nconst _hoisted_9 = {\n  class: \"field\"\n};\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"label\"\n}, \"Bekræft Password\", -1 /* HOISTED */));\nconst _hoisted_11 = {\n  class: \"control\"\n};\nconst _hoisted_12 = {\n  class: \"field\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"label\"\n}, \"Rolle\", -1 /* HOISTED */));\nconst _hoisted_14 = {\n  class: \"control\"\n};\nconst _hoisted_15 = {\n  class: \"select\"\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"staff\"\n}, \"Staff\", -1 /* HOISTED */));\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: \"admin\"\n}, \"Admin\", -1 /* HOISTED */));\nconst _hoisted_18 = [_hoisted_16, _hoisted_17];\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"field\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"control\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"button is-primary\",\n  type: \"submit\"\n}, \"Registrer\")])], -1 /* HOISTED */));\nconst _hoisted_20 = {\n  key: 0,\n  class: \"has-text-danger\"\n};\nconst _hoisted_21 = {\n  key: 1,\n  class: \"has-text-success\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.registerUser && $options.registerUser(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    class: \"input\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])])]), _createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    class: \"input\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.password]])])]), _createElementVNode(\"div\", _hoisted_9, [_hoisted_10, _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.confirmPassword = $event),\n    class: \"input\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.confirmPassword]])])]), _createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.role = $event),\n    required: \"\"\n  }, [..._hoisted_18], 512 /* NEED_PATCH */), [[_vModelSelect, $data.role]])])])]), _hoisted_19, $data.errorMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_20, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), $data.successMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_21, _toDisplayString($data.successMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementVNode","value","_hoisted_16","_hoisted_17","type","key","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","registerUser","_hoisted_3","_hoisted_4","_hoisted_5","$event","$data","email","required","_hoisted_6","_hoisted_7","_hoisted_8","password","_hoisted_9","_hoisted_10","_hoisted_11","confirmPassword","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","role","_hoisted_18","_hoisted_19","errorMessage","_hoisted_20","_toDisplayString","_createCommentVNode","successMessage","_hoisted_21"],"sources":["/home/peter/projects/bus-frontend/src/views/Register.vue"],"sourcesContent":["<template>\n    <div class=\"create-user-container\">\n        <h1 class=\"title\">Registrer ny bruger</h1>\n        <form @submit.prevent=\"registerUser\">\n            <div class=\"field\">\n                <label class=\"label\">Email</label>\n                <div class=\"control\">\n                    <input type=\"email\" v-model=\"email\" class=\"input\" required />\n                </div>\n            </div>\n            <div class=\"field\">\n                <label class=\"label\">Password</label>\n                <div class=\"control\">\n                    <input type=\"password\" v-model=\"password\" class=\"input\" required />\n                </div>\n            </div>\n            <div class=\"field\">\n                <label class=\"label\">Bekræft Password</label>\n                <div class=\"control\">\n                    <input type=\"password\" v-model=\"confirmPassword\" class=\"input\" required />\n                </div>\n            </div>\n            <div class=\"field\">\n                <label class=\"label\">Rolle</label>\n                <div class=\"control\">\n                    <div class=\"select\">\n                        <select v-model=\"role\" required>\n                            <option value=\"staff\">Staff</option>\n                            <option value=\"admin\">Admin</option>\n                        </select>\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\">\n                <div class=\"control\">\n                    <button class=\"button is-primary\" type=\"submit\">Registrer</button>\n                </div>\n            </div>\n            <p v-if=\"errorMessage\" class=\"has-text-danger\">{{ errorMessage }}</p>\n            <p v-if=\"successMessage\" class=\"has-text-success\">{{ successMessage }}</p>\n        </form>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: \"RegisterUser\",\n    data() {\n        return {\n            email: '',\n            password: '',\n            confirmPassword: '',\n            role: 'staff',  // Default role\n            errorMessage: '',\n            successMessage: '',\n        };\n    },\n    methods: {\n        async registerUser() {\n            if (this.password !== this.confirmPassword) {\n                this.errorMessage = 'Passwords du har indtastet matcher ikke.';\n                return;\n            }\n\n            try {\n                const response = await axios.post('http://localhost:8000/api/register/', {\n                    email: this.email,\n                    password: this.password,\n                    role: this.role,\n                });\n\n                this.successMessage = 'Brugeren er oprettet. Vent på godkendelse fra administrator.';\n                this.errorMessage = ''; // Clear error message\n            } catch (error) {\n                this.errorMessage = 'Der var en fejl ved brugeroprettelse. Prøv venligst igen.';\n                this.successMessage = ''; // Clear success message\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.create-user-container {\n    max-width: 400px;\n    margin: 0 auto;\n    padding: 20px;\n}\n\n.title {\n    text-align: center;\n}\n\n.has-text-danger {\n    color: #ff3860;\n}\n\n.has-text-success {\n    color: #23d160;\n}\n</style>\n"],"mappings":";;;EACSA,KAAK,EAAC;AAAuB;gEAC9BC,mBAAA,CAA0C;EAAtCD,KAAK,EAAC;AAAO,GAAC,qBAAmB;;EAE5BA,KAAK,EAAC;AAAO;gEACdC,mBAAA,CAAkC;EAA3BD,KAAK,EAAC;AAAO,GAAC,OAAK;;EACrBA,KAAK,EAAC;AAAS;;EAInBA,KAAK,EAAC;AAAO;gEACdC,mBAAA,CAAqC;EAA9BD,KAAK,EAAC;AAAO,GAAC,UAAQ;;EACxBA,KAAK,EAAC;AAAS;;EAInBA,KAAK,EAAC;AAAO;iEACdC,mBAAA,CAA6C;EAAtCD,KAAK,EAAC;AAAO,GAAC,kBAAgB;;EAChCA,KAAK,EAAC;AAAS;;EAInBA,KAAK,EAAC;AAAO;iEACdC,mBAAA,CAAkC;EAA3BD,KAAK,EAAC;AAAO,GAAC,OAAK;;EACrBA,KAAK,EAAC;AAAS;;EACXA,KAAK,EAAC;AAAQ;iEAEXC,mBAAA,CAAoC;EAA5BC,KAAK,EAAC;AAAO,GAAC,OAAK;iEAC3BD,mBAAA,CAAoC;EAA5BC,KAAK,EAAC;AAAO,GAAC,OAAK;qBAD3BC,WAAoC,EACpCC,WAAoC,C;iEAKpDH,mBAAA,CAIM;EAJDD,KAAK,EAAC;AAAO,I,aACdC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAS,I,aAChBC,mBAAA,CAAkE;EAA1DD,KAAK,EAAC,mBAAmB;EAACK,IAAI,EAAC;GAAS,WAAS,E;;EAnC7EC,GAAA;EAsCmCN,KAAK,EAAC;;;EAtCzCM,GAAA;EAuCqCN,KAAK,EAAC;;;uBAtCvCO,mBAAA,CAwCM,OAxCNC,UAwCM,GAvCFC,UAA0C,EAC1CR,mBAAA,CAqCO;IArCAS,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHrBC,cAAA,KAAAC,IAAA,KAG+BC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;MAC/BZ,mBAAA,CAKM,OALNe,UAKM,GAJFC,UAAkC,EAClChB,mBAAA,CAEM,OAFNiB,UAEM,G,gBADFjB,mBAAA,CAA6D;IAAtDI,IAAI,EAAC,OAAO;IAPvC,uBAAAM,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAOiDC,KAAA,CAAAC,KAAK,GAAAF,MAAA;IAAEnB,KAAK,EAAC,OAAO;IAACsB,QAAQ,EAAR;iDAArBF,KAAA,CAAAC,KAAK,E,OAG1CpB,mBAAA,CAKM,OALNsB,UAKM,GAJFC,UAAqC,EACrCvB,mBAAA,CAEM,OAFNwB,UAEM,G,gBADFxB,mBAAA,CAAmE;IAA5DI,IAAI,EAAC,UAAU;IAb1C,uBAAAM,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAaoDC,KAAA,CAAAM,QAAQ,GAAAP,MAAA;IAAEnB,KAAK,EAAC,OAAO;IAACsB,QAAQ,EAAR;iDAAxBF,KAAA,CAAAM,QAAQ,E,OAGhDzB,mBAAA,CAKM,OALN0B,UAKM,GAJFC,WAA6C,EAC7C3B,mBAAA,CAEM,OAFN4B,WAEM,G,gBADF5B,mBAAA,CAA0E;IAAnEI,IAAI,EAAC,UAAU;IAnB1C,uBAAAM,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAmBoDC,KAAA,CAAAU,eAAe,GAAAX,MAAA;IAAEnB,KAAK,EAAC,OAAO;IAACsB,QAAQ,EAAR;iDAA/BF,KAAA,CAAAU,eAAe,E,OAGvD7B,mBAAA,CAUM,OAVN8B,WAUM,GATFC,WAAkC,EAClC/B,mBAAA,CAOM,OAPNgC,WAOM,GANFhC,mBAAA,CAKM,OALNiC,WAKM,G,gBAJFjC,mBAAA,CAGS;IA7BjC,uBAAAU,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IA0ByCC,KAAA,CAAAe,IAAI,GAAAhB,MAAA;IAAEG,QAAQ,EAAR;KA1B/C,IAAAc,WAAA,2B,gBA0ByChB,KAAA,CAAAe,IAAI,E,SAOjCE,WAIM,EACGjB,KAAA,CAAAkB,YAAY,I,cAArB/B,mBAAA,CAAqE,KAArEgC,WAAqE,EAAAC,gBAAA,CAAnBpB,KAAA,CAAAkB,YAAY,oBAtC1EG,mBAAA,gBAuCqBrB,KAAA,CAAAsB,cAAc,I,cAAvBnC,mBAAA,CAA0E,KAA1EoC,WAA0E,EAAAH,gBAAA,CAArBpB,KAAA,CAAAsB,cAAc,oBAvC/ED,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"List of Hospitals\", -1 /* HOISTED */);\nconst _hoisted_2 = {\n  class: \"table is-striped is-fullwidth\"\n};\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"ID\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Address\")])], -1 /* HOISTED */);\nconst _hoisted_4 = {\n  key: 0,\n  class: \"notification is-danger\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"table\", _hoisted_2, [_hoisted_3, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.hospitals, hospital => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: hospital.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(hospital.id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(hospital.hospital_name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(hospital.address), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), $data.error ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["_createElementVNode","class","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","hospitals","hospital","id","_toDisplayString","hospital_name","address","error","_hoisted_4","_createCommentVNode"],"sources":["/home/peter/projects/bus-frontend/src/components/HospitalList.vue"],"sourcesContent":["<template>\n  <div>\n    <h2>List of Hospitals</h2>\n    <table class=\"table is-striped is-fullwidth\">\n      <thead>\n        <tr>\n          <th>ID</th>\n          <th>Name</th>\n          <th>Address</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"hospital in hospitals\" :key=\"hospital.id\">\n          <td>{{ hospital.id }}</td>\n          <td>{{ hospital.hospital_name }}</td>\n          <td>{{ hospital.address }}</td>\n        </tr>\n      </tbody>\n    </table>\n    <div v-if=\"error\" class=\"notification is-danger\">{{ error }}</div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      hospitals: [],\n      error: null,\n    };\n  },\n  async created() {\n    try {\n      const response = await axios.get('http://localhost:8000/api/hospitals/');\n      this.hospitals = response.data;\n    } catch (error) {\n      if (error.response) {\n        // The request was made and the server responded with a status code\n        // that falls out of the range of 2xx\n        this.error = `Failed to load hospitals: ${error.response.status} - ${error.response.statusText}`;\n      } else if (error.request) {\n        // The request was made but no response was received\n        this.error = 'No response received from the server. Please check your network connection.';\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        this.error = `An error occurred: ${error.message}`;\n      }\n    }\n  }\n};\n</script>\n\n<style>\n.notification.is-danger {\n  color: white;\n  background-color: red;\n  padding: 10px;\n  margin-top: 20px;\n}\n</style>\n"],"mappings":";gCAEIA,mBAAA,CAA0B,YAAtB,mBAAiB;;EACdC,KAAK,EAAC;AAA+B;gCAC1CD,mBAAA,CAMQ,gB,aALNA,mBAAA,CAIK,a,aAHHA,mBAAA,CAAW,YAAP,IAAE,G,aACNA,mBAAA,CAAa,YAAT,MAAI,G,aACRA,mBAAA,CAAgB,YAAZ,SAAO,E;;EARrBE,GAAA;EAmBsBD,KAAK,EAAC;;;uBAlB1BE,mBAAA,CAmBM,cAlBJC,UAA0B,EAC1BJ,mBAAA,CAeQ,SAfRK,UAeQ,GAdNC,UAMQ,EACRN,mBAAA,CAMQ,iB,kBALNG,mBAAA,CAIKI,SAAA,QAhBbC,WAAA,CAY+BC,KAAA,CAAAC,SAAS,EAArBC,QAAQ;yBAAnBR,mBAAA,CAIK;MAJ8BD,GAAG,EAAES,QAAQ,CAACC;QAC/CZ,mBAAA,CAA0B,YAAAa,gBAAA,CAAnBF,QAAQ,CAACC,EAAE,kBAClBZ,mBAAA,CAAqC,YAAAa,gBAAA,CAA9BF,QAAQ,CAACG,aAAa,kBAC7Bd,mBAAA,CAA+B,YAAAa,gBAAA,CAAxBF,QAAQ,CAACI,OAAO,iB;sCAIlBN,KAAA,CAAAO,KAAK,I,cAAhBb,mBAAA,CAAkE,OAAlEc,UAAkE,EAAAJ,gBAAA,CAAdJ,KAAA,CAAAO,KAAK,oBAnB7DE,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
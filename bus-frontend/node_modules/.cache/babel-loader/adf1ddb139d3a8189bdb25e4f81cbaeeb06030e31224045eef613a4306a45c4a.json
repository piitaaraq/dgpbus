{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    return {\n      username: '',\n      password: '',\n      errorMessage: ''\n    };\n  },\n  methods: {\n    async loginUser() {\n      try {\n        const response = await axios.post('http://localhost:8000/api/token/', {\n          username: this.username,\n          password: this.password\n        });\n        const token = response.data.access;\n\n        // Store the token in localStorage\n        localStorage.setItem('token', token);\n\n        // Redirect to the dashboard after login\n        this.$router.push({\n          name: 'AdminDashboard'\n        });\n      } catch (error) {\n        this.errorMessage = 'Ukorrekt brugernavn eller adgangskode. Venligst prøv igen.';\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","data","username","password","errorMessage","methods","loginUser","response","post","token","access","localStorage","setItem","$router","push","name","error"],"sources":["/home/peter/projects/bus-frontend/src/views/LoginPage.vue"],"sourcesContent":["<template>\n    <div class=\"login-container\">\n        <h1>Login</h1>\n        <form @submit.prevent=\"loginUser\">\n            <div class=\"field\">\n                <label class=\"label\">Username</label>\n                <div class=\"control\">\n                    <input type=\"text\" v-model=\"username\" class=\"input\" required />\n                </div>\n            </div>\n            <div class=\"field\">\n                <label class=\"label\">Password</label>\n                <div class=\"control\">\n                    <input type=\"password\" v-model=\"password\" class=\"input\" required />\n                </div>\n            </div>\n            <div class=\"field\">\n                <div class=\"control\">\n                    <button class=\"button is-primary\" type=\"submit\">Login</button>\n                </div>\n            </div>\n            <p v-if=\"errorMessage\" class=\"has-text-danger\">{{ errorMessage }}</p>\n        </form>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    data() {\n        return {\n            username: '',\n            password: '',\n            errorMessage: '',\n        };\n    },\n    methods: {\n        async loginUser() {\n            try {\n                const response = await axios.post('http://localhost:8000/api/token/', {\n                    username: this.username,\n                    password: this.password,\n                });\n                const token = response.data.access;\n\n                // Store the token in localStorage\n                localStorage.setItem('token', token);\n\n                // Redirect to the dashboard after login\n                this.$router.push({ name: 'AdminDashboard' });\n            } catch (error) {\n                this.errorMessage = 'Ukorrekt brugernavn eller adgangskode. Venligst prøv igen.';\n            }\n        },\n    },\n};\n</script>\n\n<style scoped>\n.login-container {\n    max-width: 400px;\n    margin: 0 auto;\n    padding: 20px;\n}\n</style>\n"],"mappings":";AA2BA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACXC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE;IAClB,CAAC;EACL,CAAC;EACDC,OAAO,EAAE;IACL,MAAMC,SAASA,CAAA,EAAG;MACd,IAAI;QACA,MAAMC,QAAO,GAAI,MAAMP,KAAK,CAACQ,IAAI,CAAC,kCAAkC,EAAE;UAClEN,QAAQ,EAAE,IAAI,CAACA,QAAQ;UACvBC,QAAQ,EAAE,IAAI,CAACA;QACnB,CAAC,CAAC;QACF,MAAMM,KAAI,GAAIF,QAAQ,CAACN,IAAI,CAACS,MAAM;;QAElC;QACAC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;;QAEpC;QACA,IAAI,CAACI,OAAO,CAACC,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAiB,CAAC,CAAC;MACjD,EAAE,OAAOC,KAAK,EAAE;QACZ,IAAI,CAACZ,YAAW,GAAI,4DAA4D;MACpF;IACJ;EACJ;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}